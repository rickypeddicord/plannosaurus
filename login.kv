ScreenManager:
    id: screen_manager

    Screen:
        name: "login_sc"
        MDCard:
            size_hint: None, None
            size: 300,470
            pos_hint: {"center_x": 0.5, "center_y": 0.5}
            elevation: 10
            padding: 25
            spacing: 25
            orientation: 'vertical'
        
            MDLabel:
                id: welcome_label
                text: "Please Login or Register"
                font_size: 25
                halign: 'center'
                size_hint_y: None
                height: self.texture_size[1]
                padding_y: 15
                
            MDTextFieldRound:
                id: user
                hint_text: 'username'
                icon_right: 'account'
                size_hint_x: None
                width: 200
                font_size: 18
                pos_hint: {"center_x": 0.5}
            
            MDTextFieldRound:
                id: password
                hint_text: 'password'
                icon_right: 'eye-off'
                size_hint_x: None
                width: 200
                font_size: 18
                pos_hint: {"center_x": 0.5}
                password: True
                
            MDRoundFlatButton:
                text: "LOGIN"
                font_size: 12
                pos_hint: {"center_x": 0.5}
                on_press: screen_manager.current = "main_sc" if app.login() == 1 else "login_sc"
            MDRoundFlatButton:
                text: "CLEAR"
                font_size: 12
                pos_hint: {"center_x": 0.5}
                on_press: app.clear()

            MDRoundFlatButton:
                text: "REGISTER"
                font_size: 12
                pos_hint: {"center_x": 0.5}
                on_press: screen_manager.current = "reg"
                
            
            Widget:
                size_hint_y: None
                height: 8

    Screen:
        name: "main_sc"
        MDLabel:
            text: "Main App screen"
            
    Screen:
        name:  "reg"
        MDCard:
            size_hint: None, None
            size: 300,470
            pos_hint: {"center_x": 0.5, "center_y": 0.5}
            elevation: 10
            padding: 25
            spacing: 25
            orientation: 'vertical'
            
            MDLabel:
                text: "REGISTRATION:"
                pos_hint: {"center_x": 0.6, "center_y": 0.2}
                font_size: 30
                bold: True
            MDTextFieldRound:
                hint_text: "First Name"
                helper_text: ""
                pos_hint: {"center_x": 0.5, "center_y": 0.9}
                padding: 25
                spacing: 25
                width: 200
                normal_color: app.theme_cls.accent_color
                color_active: 1, 0, 1, 1
                helper_text_mode: "on_focus"
            MDTextFieldRound:
                hint_text: "Last Name"
                helper_text: ""
                pos_hint: {"center_y": 0.8}
                width: 200
                normal_color: app.theme_cls.accent_color
                color_active: 1, 0, 1, 1
                helper_text_mode: "on_focus"
            MDTextFieldRound:
                hint_text: "Email"
                helper_text: ""
                pos_hint: {"center_y": 0.7}
                width: 200
                icon_left: 'email'
                normal_color: app.theme_cls.accent_color
                color_active: 1, 0, 1, 1
                helper_text_mode: "on_focus"
            MDTextFieldRound:
                id: enterPass
                hint_text: "Password:"
                helper_text: ""
                pos_hint: {"center_y": 0.6}
                icon_left: 'key-variant'
                icon_right: 'eye-off'
                width: 200
                normal_color: app.theme_cls.accent_color
                color_active: 1, 0, 1, 1
                password: True
                helper_text_mode: "on_focus"
            MDTextFieldRound:
                id: passReEnter
                hint_text: "Re-enter Password:"
                pos_hint: {"center_y": 0.5}
                helper_text: "Confirm Password" if passReEnter.text=='' else "Passwords do not match" if passReEnter.text!=enterPass.text else "Passwords Match"
                helper_text_mode: "on_focus" if passReEnter.text=='' else "on_error" if passReEnter.text!=enterPass.text else "on_focus"  
                error : False if passReEnter.text=='' else True if passReEnter.text!=enterPass.text else False
                width: 200
                icon_left: 'key-variant'
                icon_right: 'eye-off'
                normal_color: app.theme_cls.accent_color
                color_active: 1, 0, 1, 1
                password: True
                
            
            MDRoundFlatButton:
                text: "SUBMIT"
                font_size: 12
                pos_hint: {"center_x": 0.5}
                on_press: screen_manager.current = "reg"
            
